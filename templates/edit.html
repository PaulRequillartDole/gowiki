{{define "title"}}Edit{{end}}

{{define "main"}}
    <style>
        .ck-editor__editable_inline {
            min-height: 500px;
        }
        .ck-editor__editable_inline h1, .ck-editor__editable_inline h2, .ck-editor__editable_inline h3, .ck-editor__editable_inline h4,
        .ck-editor__editable_inline h5, .ck-editor__editable_inline h6, .ck-editor__editable_inline p
        {
            color: #000 !important;
        }
    </style>
    <h1>Editing {{.Title}}</h1>

    <form action="/save/{{.Title}}" method="POST">
        <div><textarea id="editor" class="form-control" name="body" rows="20" cols="80">{{printf "%s" .Body}}</textarea></div>
        <div class="my-3 text-end"><input type="submit" value="Save" class="btn btn-success"></div>
    </form>

    <script src="https://cdn.ckeditor.com/ckeditor5/36.0.1/classic/ckeditor.js"></script>
    <script>
        ClassicEditor
            .create(document.querySelector('#editor'), {
                codeBlock: {
                    languages: [
                        { language: 'css', label: 'CSS' },
                        { language: 'html', label: 'HTML' },
                        { language: 'php', label: 'PHP' },
                        { language: 'javascript', label: 'JS' }
                    ]
                }
            })
            .then(editor => {
                console.log(editor);
            })
            .catch(error => {
                console.error(error);
            });
    </script>
{{end}}